{"__meta":{"id":"96a7379c86a8a5d1d517b73781a33ad8","datetime":"2017-11-21 07:15:02","utime":1511277302.1843,"method":"GET","uri":"\/api\/regions\/nearby?lat=47.6104&lng=-122.2007&limit=1&with_current_event=1&access_token=testtesttesttesttesttest&secret=testtesttesttesttesttest","ip":"127.0.0.1"},"php":{"version":"7.0.22-0ubuntu0.17.04.1","interface":"fpm-fcgi"},"messages":{"count":0,"messages":[]},"time":{"start":1511277302.1433,"end":1511277302.1843,"duration":0.041078090667725,"duration_str":"41.08ms","measures":[{"label":"Booting","start":1511277302.1433,"relative_start":0,"end":1511277302.1659,"relative_end":1511277302.1659,"duration":0.022639036178589,"duration_str":"22.64ms","params":[],"collector":null},{"label":"Application","start":1511277302.1477,"relative_start":0.0044100284576416,"end":1511277302.1843,"relative_end":4.0531158447266e-6,"duration":0.036672115325928,"duration_str":"36.67ms","params":[],"collector":null}]},"memory":{"peak_usage":2097152,"peak_usage_str":"2MB"},"exceptions":{"count":0,"exceptions":[]},"views":{"nb_templates":0,"templates":[]},"route":{"uri":"GET api\/regions\/nearby\/{one?}\/{two?}\/{three?}\/{four?}\/{five?}","middleware":"api","as":null,"controller":"CodeDay\\Clear\\Http\\Controllers\\Api\\Regions@getNearby","namespace":"CodeDay\\Clear\\Http\\Controllers\\Api","prefix":"\/api","where":[],"file":"app\/Http\/Controllers\/Api\/Regions.php:10-74"},"queries":{"nb_statements":12,"nb_failed_statements":0,"accumulated_duration":0.00742,"accumulated_duration_str":"7.42ms","statements":[{"sql":"select * from `email_templates`","type":"query","params":[],"bindings":[],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table","The <code>SELECT<\/code> statement has no <code>WHERE<\/code> clause and could examine many more rows than intended"],"backtrace":[{"index":12,"namespace":null,"name":"\/app\/Http\/routes.php","line":18},{"index":16,"namespace":null,"name":"\/app\/Providers\/RouteServiceProvider.php","line":42},{"index":21,"namespace":null,"name":"\/app\/Providers\/RouteServiceProvider.php","line":29},{"index":33,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00038,"duration_str":"380\u03bcs","stmt_id":"\/app\/Http\/routes.php:18","connection":"clear"},{"sql":"select * from `regions` where `regions`.`deleted_at` is null","type":"query","params":[],"bindings":[],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table"],"backtrace":[{"index":12,"namespace":null,"name":"\/app\/Http\/routes.php","line":21},{"index":16,"namespace":null,"name":"\/app\/Providers\/RouteServiceProvider.php","line":42},{"index":21,"namespace":null,"name":"\/app\/Providers\/RouteServiceProvider.php","line":29},{"index":33,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00069,"duration_str":"690\u03bcs","stmt_id":"\/app\/Http\/routes.php:21","connection":"clear"},{"sql":"select * from `batches` where `id` = 'OTG90cekwsNv' limit 1","type":"query","params":[],"bindings":["OTG90cekwsNv"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table","<code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"],"backtrace":[{"index":12,"namespace":null,"name":"\/app\/Models\/Batch.php","line":78},{"index":13,"namespace":null,"name":"\/app\/Http\/routes.php","line":22},{"index":17,"namespace":null,"name":"\/app\/Providers\/RouteServiceProvider.php","line":42},{"index":22,"namespace":null,"name":"\/app\/Providers\/RouteServiceProvider.php","line":29},{"index":34,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00046,"duration_str":"460\u03bcs","stmt_id":"\/app\/Models\/Batch.php:78","connection":"clear"},{"sql":"select * from `batches_events` where `batches_events`.`deleted_at` is null and `batches_events`.`batch_id` in ('OTG90cekwsNv')","type":"query","params":[],"bindings":["OTG90cekwsNv"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table"],"backtrace":[{"index":18,"namespace":null,"name":"\/app\/Models\/Batch.php","line":78},{"index":19,"namespace":null,"name":"\/app\/Http\/routes.php","line":22},{"index":23,"namespace":null,"name":"\/app\/Providers\/RouteServiceProvider.php","line":42},{"index":28,"namespace":null,"name":"\/app\/Providers\/RouteServiceProvider.php","line":29},{"index":40,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00073,"duration_str":"730\u03bcs","stmt_id":"\/app\/Models\/Batch.php:78","connection":"clear"},{"sql":"select regions.*,\n( 3959 * acos( cos( radians('47.6104') ) *\ncos( radians( lat ) )\n* cos( radians( lng ) - radians('-122.2007')\n) + sin( radians('47.6104') ) *\nsin( radians( lat ) ) )\n) AS distance from `regions` right join `batches_events` on `batches_events`.`region_id` = `regions`.`id` where `regions`.`deleted_at` is null and batches_events.batch_id = \"OTG90cekwsNv\" and `regions`.`id` is not null and `batches_events`.`deleted_at` is null and `batches_events`.`overflow_for_id` is null group by `regions`.`id` order by `distance` asc limit 1","type":"query","params":[],"bindings":["47.6104","-122.2007","47.6104"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table"],"backtrace":[{"index":11,"namespace":null,"name":"\/app\/Http\/Controllers\/Api\/Regions.php","line":54},{"index":27,"namespace":"middleware","name":"api","line":20},{"index":41,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareBatch.php","line":16},{"index":44,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareRaygunApiKey.php","line":10},{"index":47,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareSessionErrors.php","line":12},{"index":66,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00071,"duration_str":"710\u03bcs","stmt_id":"\/app\/Http\/Controllers\/Api\/Regions.php:54","connection":"clear"},{"sql":"select * from `batches_events` where `batches_events`.`deleted_at` is null and `batches_events`.`region_id` in ('seattle')","type":"query","params":[],"bindings":["seattle"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table"],"backtrace":[{"index":17,"namespace":null,"name":"\/app\/Http\/Controllers\/Api\/Regions.php","line":54},{"index":33,"namespace":"middleware","name":"api","line":20},{"index":47,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareBatch.php","line":16},{"index":50,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareRaygunApiKey.php","line":10},{"index":53,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareSessionErrors.php","line":12},{"index":72,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00058,"duration_str":"580\u03bcs","stmt_id":"\/app\/Http\/Controllers\/Api\/Regions.php:54","connection":"clear"},{"sql":"select * from `batches_events` where `batches_events`.`deleted_at` is null and `batch_id` = 'OTG90cekwsNv' and `overflow_for_id` is null","type":"query","params":[],"bindings":["OTG90cekwsNv"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table"],"backtrace":[{"index":11,"namespace":null,"name":"\/app\/Models\/Region.php","line":67},{"index":16,"namespace":null,"name":"\/app\/Http\/Controllers\/Api\/Regions.php","line":61},{"index":32,"namespace":"middleware","name":"api","line":20},{"index":46,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareBatch.php","line":16},{"index":49,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareRaygunApiKey.php","line":10},{"index":52,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareSessionErrors.php","line":12},{"index":71,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00069,"duration_str":"690\u03bcs","stmt_id":"\/app\/Models\/Region.php:67","connection":"clear"},{"sql":"select * from `regions` where `regions`.`deleted_at` is null","type":"query","params":[],"bindings":[],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table"],"backtrace":[{"index":15,"namespace":null,"name":"\/app\/Models\/Batch\/Event.php","line":203},{"index":20,"namespace":null,"name":"\/app\/Models\/Batch\/Event.php","line":798},{"index":25,"namespace":null,"name":"\/app\/Models\/Batch\/Event.php","line":28},{"index":30,"namespace":null,"name":"\/app\/ModelContracts\/Event.php","line":24},{"index":31,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":32,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":33,"namespace":null,"name":"\/app\/ModelContracts\/Region.php","line":99},{"index":34,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":35,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":36,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":22},{"index":37,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":33},{"index":38,"namespace":null,"name":"\/app\/Http\/Controllers\/Api\/Regions.php","line":73},{"index":54,"namespace":"middleware","name":"api","line":20},{"index":68,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareBatch.php","line":16},{"index":71,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareRaygunApiKey.php","line":10},{"index":74,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareSessionErrors.php","line":12},{"index":93,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.0004,"duration_str":"400\u03bcs","stmt_id":"\/app\/Models\/Batch\/Event.php:203","connection":"clear"},{"sql":"select * from `batches_events` where `batches_events`.`deleted_at` is null and `batches_events`.`overflow_for_id` = 'eMLluauJVL5E' and `batches_events`.`overflow_for_id` is not null","type":"query","params":[],"bindings":["eMLluauJVL5E"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table"],"backtrace":[{"index":16,"namespace":null,"name":"\/app\/Models\/Batch\/Event.php","line":147},{"index":21,"namespace":null,"name":"\/app\/ModelContracts\/Event.php","line":272},{"index":22,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":23,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":24,"namespace":null,"name":"\/app\/ModelContracts\/Region.php","line":99},{"index":25,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":26,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":27,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":22},{"index":28,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":33},{"index":29,"namespace":null,"name":"\/app\/Http\/Controllers\/Api\/Regions.php","line":73},{"index":45,"namespace":"middleware","name":"api","line":20},{"index":59,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareBatch.php","line":16},{"index":62,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareRaygunApiKey.php","line":10},{"index":65,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareSessionErrors.php","line":12},{"index":84,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00058,"duration_str":"580\u03bcs","stmt_id":"\/app\/Models\/Batch\/Event.php:147","connection":"clear"},{"sql":"select * from `batches_events` where `batches_events`.`deleted_at` is null and `batches_events`.`overflow_for_id` = 'C5fxSB1mC3X3' and `batches_events`.`overflow_for_id` is not null","type":"query","params":[],"bindings":["C5fxSB1mC3X3"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table"],"backtrace":[{"index":16,"namespace":null,"name":"\/app\/Models\/Batch\/Event.php","line":147},{"index":21,"namespace":null,"name":"\/app\/ModelContracts\/Event.php","line":272},{"index":22,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":23,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":24,"namespace":null,"name":"\/app\/ModelContracts\/Event.php","line":272},{"index":25,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":26,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":27,"namespace":null,"name":"\/app\/ModelContracts\/Region.php","line":99},{"index":28,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":29,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":30,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":22},{"index":31,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":33},{"index":32,"namespace":null,"name":"\/app\/Http\/Controllers\/Api\/Regions.php","line":73},{"index":48,"namespace":"middleware","name":"api","line":20},{"index":62,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareBatch.php","line":16},{"index":65,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareRaygunApiKey.php","line":10},{"index":68,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareSessionErrors.php","line":12},{"index":87,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00065,"duration_str":"650\u03bcs","stmt_id":"\/app\/Models\/Batch\/Event.php:147","connection":"clear"},{"sql":"select * from `batches_events` where `batches_events`.`deleted_at` is null and `id` = 'eMLluauJVL5E' limit 1","type":"query","params":[],"bindings":["eMLluauJVL5E"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table","<code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"],"backtrace":[{"index":12,"namespace":null,"name":"\/app\/Models\/Batch\/Event.php","line":100},{"index":17,"namespace":null,"name":"\/app\/Models\/Batch\/Event.php","line":114},{"index":22,"namespace":null,"name":"\/app\/ModelContracts\/Event.php","line":279},{"index":23,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":24,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":25,"namespace":null,"name":"\/app\/ModelContracts\/Event.php","line":272},{"index":26,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":27,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":28,"namespace":null,"name":"\/app\/ModelContracts\/Region.php","line":99},{"index":29,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":30,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":31,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":22},{"index":32,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":33},{"index":33,"namespace":null,"name":"\/app\/Http\/Controllers\/Api\/Regions.php","line":73},{"index":49,"namespace":"middleware","name":"api","line":20},{"index":63,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareBatch.php","line":16},{"index":66,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareRaygunApiKey.php","line":10},{"index":69,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareSessionErrors.php","line":12},{"index":88,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00074,"duration_str":"740\u03bcs","stmt_id":"\/app\/Models\/Batch\/Event.php:100","connection":"clear"},{"sql":"select * from `batches_events` where `batches_events`.`deleted_at` is null and `batches_events`.`overflow_for_id` = 'eMLluauJVL5E' and `batches_events`.`overflow_for_id` is not null","type":"query","params":[],"bindings":["eMLluauJVL5E"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table"],"backtrace":[{"index":16,"namespace":null,"name":"\/app\/Models\/Batch\/Event.php","line":122},{"index":21,"namespace":null,"name":"\/app\/Models\/Batch\/Event.php","line":114},{"index":26,"namespace":null,"name":"\/app\/ModelContracts\/Event.php","line":279},{"index":27,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":28,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":29,"namespace":null,"name":"\/app\/ModelContracts\/Event.php","line":272},{"index":30,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":31,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":32,"namespace":null,"name":"\/app\/ModelContracts\/Region.php","line":99},{"index":33,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":81},{"index":34,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":16},{"index":35,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":22},{"index":36,"namespace":null,"name":"\/app\/ModelContracts\/ModelContract.php","line":33},{"index":37,"namespace":null,"name":"\/app\/Http\/Controllers\/Api\/Regions.php","line":73},{"index":53,"namespace":"middleware","name":"api","line":20},{"index":67,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareBatch.php","line":16},{"index":70,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareRaygunApiKey.php","line":10},{"index":73,"namespace":null,"name":"\/app\/Http\/Middleware\/ShareSessionErrors.php","line":12},{"index":92,"namespace":null,"name":"\/public\/index.php","line":55}],"duration":0.00081,"duration_str":"810\u03bcs","stmt_id":"\/app\/Models\/Batch\/Event.php:122","connection":"clear"}]},"swiftmailer_mails":{"count":0,"mails":[]},"auth":{"name":"Guest","user":{"guest":true}},"gate":{"count":0,"messages":[]},"session":{"managed_batch_id":"OTG90cekwsNv","_token":"XZ39EVlx5QVlFgzmwggrn7JH9GJpwjOotMkCorDU"},"request":{"format":"html","content_type":"text\/javascript; charset=UTF-8","status_text":"OK","status_code":"200","request_query":"array:6 [\n  \"lat\" => \"47.6104\"\n  \"lng\" => \"-122.2007\"\n  \"limit\" => \"1\"\n  \"with_current_event\" => \"1\"\n  \"access_token\" => \"testtesttesttesttesttest\"\n  \"secret\" => \"testtesttesttesttesttest\"\n]","request_request":"array:6 [\n  \"lat\" => \"47.6104\"\n  \"lng\" => \"-122.2007\"\n  \"limit\" => \"1\"\n  \"with_current_event\" => \"1\"\n  \"access_token\" => \"testtesttesttesttesttest\"\n  \"secret\" => \"testtesttesttesttesttest\"\n]","request_headers":"array:4 [\n  \"connection\" => array:1 [\n    0 => \"close\"\n  ]\n  \"host\" => array:1 [\n    0 => \"clear.codeday.dev\"\n  ]\n  \"content-length\" => array:1 [\n    0 => \"\"\n  ]\n  \"content-type\" => array:1 [\n    0 => \"\"\n  ]\n]","request_server":"array:27 [\n  \"USER\" => \"tylermenezes\"\n  \"HOME\" => \"\/home\/tylermenezes\"\n  \"HTTP_CONNECTION\" => \"close\"\n  \"HTTP_HOST\" => \"clear.codeday.dev\"\n  \"REDIRECT_STATUS\" => \"200\"\n  \"SERVER_NAME\" => \"clear.codeday.dev\"\n  \"SERVER_PORT\" => \"80\"\n  \"SERVER_ADDR\" => \"127.0.0.1\"\n  \"REMOTE_PORT\" => \"41006\"\n  \"REMOTE_ADDR\" => \"127.0.0.1\"\n  \"SERVER_SOFTWARE\" => \"nginx\/1.10.3\"\n  \"GATEWAY_INTERFACE\" => \"CGI\/1.1\"\n  \"REQUEST_SCHEME\" => \"http\"\n  \"SERVER_PROTOCOL\" => \"HTTP\/1.0\"\n  \"DOCUMENT_URI\" => \"\/index.php\"\n  \"REQUEST_URI\" => \"\/api\/regions\/nearby?lat=47.6104&lng=-122.2007&limit=1&with_current_event=1&access_token=testtesttesttesttesttest&secret=testtesttesttesttesttest\"\n  \"SCRIPT_NAME\" => \"\/index.php\"\n  \"CONTENT_LENGTH\" => \"\"\n  \"CONTENT_TYPE\" => \"\"\n  \"REQUEST_METHOD\" => \"GET\"\n  \"QUERY_STRING\" => \"lat=47.6104&lng=-122.2007&limit=1&with_current_event=1&access_token=testtesttesttesttesttest&secret=testtesttesttesttesttest\"\n  \"DOCUMENT_ROOT\" => \"\/home\/tylermenezes\/.cloud\/VCS\/srnd\/Clear\/public\"\n  \"SCRIPT_FILENAME\" => \"\/home\/tylermenezes\/.cloud\/VCS\/srnd\/Clear\/public\/index.php\"\n  \"FCGI_ROLE\" => \"RESPONDER\"\n  \"PHP_SELF\" => \"\/index.php\"\n  \"REQUEST_TIME_FLOAT\" => 1511277302.1433\n  \"REQUEST_TIME\" => 1511277302\n]","request_cookies":"[]","response_headers":"array:7 [\n  \"cache-control\" => array:1 [\n    0 => \"private, must-revalidate\"\n  ]\n  \"date\" => array:1 [\n    0 => \"Tue, 21 Nov 2017 15:15:02 GMT\"\n  ]\n  \"content-type\" => array:1 [\n    0 => \"text\/javascript; charset=UTF-8\"\n  ]\n  \"pragma\" => array:1 [\n    0 => \"no-cache\"\n  ]\n  \"expires\" => array:1 [\n    0 => -1\n  ]\n  \"access-control-allow-origin\" => array:1 [\n    0 => \"*\"\n  ]\n  \"access-control-allow-methods\" => array:1 [\n    0 => \"*\"\n  ]\n]","path_info":"\/api\/regions\/nearby","session_attributes":"array:2 [\n  \"managed_batch_id\" => \"OTG90cekwsNv\"\n  \"_token\" => \"XZ39EVlx5QVlFgzmwggrn7JH9GJpwjOotMkCorDU\"\n]"}}